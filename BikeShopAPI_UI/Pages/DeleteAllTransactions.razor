@page "/delete all transactions"

@using BikeShopAPI_UI.Data
@using System.Text.Json;
@inject TransactionService TransService

<p>
    <button @onclick="DeleteAll" type="button">Delete All</button>
</p>

@if (response.IsSuccessStatusCode)
{
    <p><em>Successfully Deleted!</em></p>
}
else if(response.StatusCode == System.Net.HttpStatusCode.BadRequest)
{
    <p><em>Error</em></p>
}
else
{
    <p>Click to truncate table</p>
}

@code {
    int Record;
    private Transaction transaction;
    private HttpResponseMessage response = new HttpResponseMessage(System.Net.HttpStatusCode.Unauthorized);

    protected async Task DeleteAll()
    {
        response = await TransService.DeleteAllTransactionAsync();
    }
}